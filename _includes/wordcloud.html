<script>
  // Postun tag'lerini al
  var words = [
    {% for tag in page.tags %}
      { text: "{{ tag }}", size: 50 }, // Her tag için sabit bir boyut (isteğe bağlı olarak dinamik yapılabilir)
    {% endfor %}
  ];

  // Kelime bulutunu oluştur
  var width = window.innerWidth * 0.8; // Sayfanın genişliğinin %80'i kadar
  var height = window.innerHeight * 0.4; // Sayfanın yüksekliğinin %40'ı kadar

  d3.layout.cloud().size([width, height])
    .words(words)
    .padding(5)
    .rotate(0) // Yatay olarak sıralamak için rotasyonu 0'a ayarla
    .font("Impact")
    .fontSize(function(d) { return d.size; }) // Frekansa göre boyutu ayarla
    .on("end", draw)
    .start();

  function draw(words) {
    var svg = d3.select("#wordcloud").append("svg")
      .attr("width", width)
      .attr("height", height)
      .append("g")
      .attr("transform", "translate(" + width / 2 + "," + height / 2 + ")");

    var text = svg.selectAll("text")
      .data(words)
      .enter().append("text")
      .style("font-size", function(d) { return d.size + "px"; })
      .style("font-family", "Impact")
      .style("fill", function(d, i) { return d3.schemeCategory10[i % 10]; })
      .attr("text-anchor", "middle")
      .attr("transform", function(d) {
        return "translate(" + [d.x, d.y] + ")";
      })
      .text(function(d) { return d.text; });
  }
</script>

<div id="wordcloud"></div>

<script src="https://d3js.org/d3.v5.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/holtzy/D3-graph-gallery@master/LIB/d3.layout.cloud.js"></script>

<style>
  #wordcloud svg {
    width: 100%;
    height: auto;
  }

  #wordcloud text {
    cursor: pointer;
  }

  #wordcloud text:hover {
    fill: red;
  }

  @media (max-width: 768px) {
    #wordcloud svg {
      width: 100%;
      height: auto;
    }
  }

  @media (min-width: 769px) {
    #wordcloud svg {
      width: 80%;
      height: auto;
    }
  }
</style>